"use strict";var AJAX=function(){var e={mode:"same-origin",credentials:"same-origin",headers:{"Content-Type":"application/json"}};return{post:function(t,i,n){return n=n||!1,e.method="POST",e.body=JSON.stringify({ajaxMethod:t,payload:i}),fetch("/",e).then(function(e){if(!n)return e.json();location.reload()}).catch(function(e){return e})}}}(),App=new Vue({el:"#app",data:{shouldShowEmoji:!0,canSwitchEmoji:!1,shouldLogin:!1,shouldSignUp:!1,isLoggedIn:!1,isShowingAllEntries:!1,hasEntries:!1,hasTodayEntries:!1,getLocationDirectly:!1,showLocationNotification:!1,tooltips:{tap:!1,write:!1,press:!1},entries:[],entriesToShow:void 0,emojions:void 0,currentDay:void 0,previousDayCharts:void 0,notUserEmojions:[],emptyTracking:void 0,userPosition:void 0,elapsedTime:void 0,emojionBlockColors:["blue","red","purple","orange","green","black","brown","pink"],signUpEmail:"",signUpPassword:"",loginEmail:"",loginPassword:"",confirmPassword:"",signUpLoginError:void 0},created:function(){var e=this;DB.getUserEmojions(function(t){e.emojions=t}),DB.getNotUserEmojions(function(t){e.notUserEmojions=t}),DOM.showApp(),this.shouldShowEmoji=!0,DOM.freezeScreen(),this.canSwitchEmoji=!0,this.isLoggedIn=GLOBAL_STATE.isLoggedIn,DB.getTodaysEntries(function(t){e.entries=t,e.entries&&e.entries.length>=1&&(e.hasTodayEntries=!0,e.hasEntries=!0)}),DB.getPreviousDayCharts(function(t){t&&Object.keys(t).length>=1&&(e.hasEntries=!0,e.previousDayCharts=t)}),DB.getTooltips(function(t){e.tooltips=t}),DB.getUserLocationPermissions(function(t){"granted"===t.permission&&(e.getLocationDirectly=!0),"pending"===t.permission&&(e.showLocationNotification=!0),t.permission,e.$forceUpdate()}),DB.getSignUpLoginErrors(function(t){null!=t&&(e.signUpLoginError=t.message,"register"===t.for&&(e.shouldSignUp=!0,e.shouldLogin=!1),"login"===t.for&&(e.shouldLogin=!0,e.shouldSignUp=!1))})},methods:{getPatternsMessage:function(){return null==this.entries?CONSTS.NEW_USER.empty:1===this.entries.length?CONSTS.NEW_USER.first:CONSTS.RETURNING_USER.patternsMessage},toggleEmoji:function(e){void 0!==e&&this.shouldShowEmoji===e||(this.shouldShowEmoji=void 0!==e?e:!this.shouldShowEmoji,this.shouldShowEmoji?DOM.freezeScreen():DOM.unfreezeScreen())},turnOnCarousel:function(e){for(var t=0;t<this.$refs.emojions.length;t+=1)t!==e&&this.$refs.emojions[t].isChangingEmoji&&(this.$refs.emojions[t].isChangingEmoji=!1,this.$refs.emojions[t].turnOnOffCarousel())},turnOffCarousel:function(e,t,i){var n=this;this.notUserEmojions[i]=this.emojions[e],this.emojions[e]=t,DB.saveUserEmojions(this.emojions),DB.saveNotUserEmojions(this.notUserEmojions),DB.recordTooltip("press",function(e){n.tooltips=e}),this.$forceUpdate()},toggleEntriesForDay:function(){if(this.isShowingAllEntries=!this.isShowingAllEntries,this.isShowingAllEntries)this.entriesToShow=this.entries;else{var e=this.entries.slice();this.entriesToShow=e.splice(e.length-2,e.length)}},trackEntry:function(e,t,i,n){var o=this,s=this;e.time=(new Date).getTime();DB.trackEntry(e,t,i,n,function(e){o.entries=e,o.toggleEmoji(!1),o.entries&&o.entries.length>=1&&(o.hasTodayEntries=!0,o.hasEntries=!0);var t=o.entries.length-1,i=o.entries[t];DB.getUserLocationPermissions(function(e){"granted"===e.permission&&window.navigator.geolocation.getCurrentPosition(function(e){DB.saveLocationToEntry(t,i,e,function(e){s.entries=e,s.$forceUpdate()})})})}),DB.recordTooltip("tap",function(e){o.tooltips=e})},signUpUser:function(){""!==this.signUpEmail&&""!==this.signUpPassword&&(this.signUpPassword!==this.confirmPassword?this.signUpLoginError="Those passwords aren't matching up.":(this.signUpLoginError=void 0,DB.signUpUser(this.signUpEmail,this.signUpPassword)))},loginUser:function(){""!==this.loginEmail&&""!==this.loginPassword&&DB.loginUser(this.loginEmail,this.loginPassword)},logoutUser:function(){DB.logoutUser()},saveNote:function(e,t,i){var n=this;DB.saveNote(e,t,i,function(e){n.entries=e}),!0===this.tooltips.write&&this.toggleEmoji(!0),DB.recordTooltip("write",function(e){n.tooltips=e})},toggleLogin:function(){this.shouldLogin=!this.shouldLogin,this.shouldSignUp=!1},toggleSignUp:function(){this.shouldLogin=!1,this.shouldSignUp=!this.shouldSignUp}}}),DayEmotionChartCarousel={template:"<div class='js-charts'><slot></slot></div>",mounted:function(){new Flickity(this.$el,{cellAlign:"left",pageDots:!1})}};Vue.component("day-emotion-chart-carousel",DayEmotionChartCarousel);var DayEmotionChart={template:"<div><div class='js-chart'><slot></slot></div><div class='Ff(serifRegular) Fz(default) C(black) Ta(c)'>{{ readableDate(day) }}</div></div>",props:{data:{type:Object,required:!1,default:function(){return{labels:["🤔","👆","🌏"],series:[5,3,4],colors:["green","blue","red","orange"]}}},day:{type:String,required:!1}},mounted:function(){var e={labelInterpolationFnc:function(e){return e},width:"100px",height:"100px"},t=0,i=this;new Chartist.Pie(this.$el.querySelector(".js-chart"),this.data,e).on("draw",function(e){"slice"===e.type&&(e.element.attr({fill:"#"+i.data.colors[t]}),t+=1)})},methods:{readableDate:function(e){return"a day ago"===moment(e).from(moment(new Date))?"Yesterday":moment(e).format("dddd")}}};Vue.component("day-emotion-chart",DayEmotionChart);var EmojionCarousel={template:"#emojion_carousel_template",props:{emojions:{type:Array,required:!0},color:{type:String,required:!0}},created:function(){},mounted:function(){var e=this,t=new Flickity(this.$el,{pageDots:!1});document.querySelector(".flickity-viewport").style.height="100%",this.$emit("select-emoji-to-change-to",this.emojions[0],0),t.on("select",function(){e.$emit("select-emoji-to-change-to",e.emojions[t.selectedIndex],t.selectedIndex)})}};Vue.component("emojion-carousel",EmojionCarousel);var Emojion={template:"#emojion_template",props:{index:{type:Number,required:!0},canSwitchEmoji:{type:Boolean,required:!0},emojion:{type:Object,required:!0},notUserEmojions:{type:Array,required:!0},colors:{type:Array,required:!0}},data:function(){return{emoji:this.emojion.emoji,color:this.emojion.color,textColor:this.emojion.text_color,question:this.emojion.question,carouselColor:void 0,emojionToChangeTo:void 0,emojionToChangeToIndex:void 0,isChangingEmoji:!1}},mounted:function(){var e=this,t=new Hammer(this.$el);t.on("press",function(t){e.isChangingEmoji=!e.isChangingEmoji,e.turnOnOffCarousel()}),t.on("tap",function(t){e.isChangingEmoji||e.$emit("track-entry",e.emojion,e.emojion.color,e.emojion.text_color,e.emojion.question)})},methods:{selectEmojionToChangeTo:function(e,t){this.carouselColor=e.color,this.emojionToChangeTo=e,this.emojionToChangeToIndex=t},turnOnOffCarousel:function(){this.isChangingEmoji?this.$emit("turn-on-carousel",this.index):(this.carouselColor=void 0,this.emoji=this.emojionToChangeTo.emoji,this.color=this.emojionToChangeTo.color,this.textColor=this.emojionToChangeTo.text_color,this.$emit("turn-off-carousel",this.index,this.emojionToChangeTo,this.emojionToChangeToIndex))}}};Vue.component("emojion",Emojion);var Entry={template:"#entry_template",props:{entry:{type:Object,required:!0},index:{type:Number,requied:!0},totalEntries:{type:Number,required:!0},showTooltip:{type:Boolean,required:!0,default:!1}},data:function(){return{canInputNote:!1,shouldResizeTextArea:!1,note:"",alreadyHasNote:!1,isViewingNote:!1}},created:function(){null!=this.entry.note&&(this.alreadyHasNote=!0),this.index!==this.totalEntries-1||this.alreadyHasNote?this.canInputNote=!1:this.canInputNote=!0},mounted:function(){this.canInputNote&&autosize(this.$el.querySelector(".js-note-input")),this.alreadyHasNote},updated:function(){this.index!==this.totalEntries-1||this.alreadyHasNote?this.canInputNote=!1:this.canInputNote=!0},methods:{resizeTextArea:function(e){var t=e.target.value;t&&t.length>=1?(window.scrollTo(0,0),this.shouldResizeTextArea=!0):(window.scrollTo(0,GLOBAL_STATE.previousScrollY),this.shouldResizeTextArea=!1),this.note=t},saveNote:function(e){this.note&&this.note.length>=1&&(this.shouldResizeTextArea=!1,this.canInputNote=!1,this.alreadyHasNote=!0,this.isViewingNote=!0,this.$emit("save-note",this.entry,this.index,this.note),this.$forceUpdate())},formatTime:function(e){return"string"==typeof e?moment(parseInt(e,10)).format("LT"):moment(e).format("LT")},showNote:function(){this.isViewingNote=!this.isViewingNote}}};Vue.component("entry",Entry);var Notification={template:"#notification_template",props:{message:{type:String,required:!0},emoji:{type:String,required:!0},callToActionMessage:{type:String,required:!1},method:{type:String,required:!1},first:{type:Boolean,required:!1,default:!1}},data:function(){return{methods:{},shouldShow:!0,statusText:void 0}},created:function(){void 0!==this.method&&(this.methods.click=this[this.method])},methods:{askUserForLocation:function(){var e=this;this.statusText="Loading...","undefined"!==window.navigator.geolocation&&window.navigator.geolocation.getCurrentPosition(function(t){DB.saveUserLocationPermissions("granted"),e.shouldShow=!1},function(t){DB.saveUserLocationPermissions("denied"),e.shouldShow=!1})}}};Vue.component("notification",Notification);var Tooltip={template:"#tooltip_template",props:{emoji:{type:String,required:!0},action:{type:String,requied:!0},message:{type:String,required:!0},arrowPosition:{type:String,required:!1,default:""},reverse:{type:Boolean,required:!1,default:!1},tooltipType:{type:String,required:!0}}};Vue.component("tooltip",Tooltip);var GLOBAL_STATE={previousScrollY:void 0,isFirstTime:!0,isLoggedIn:!1},CONSTS={googleMapsURL:function(e,t){return"https://maps.googleapis.com/maps/api/geocode/json?latlng="+e+","+t+"&sensor=true"},RETURNING_USER:{patternsMessage:"What am I noticing in my mind and body today?"},NEW_USER:{empty:"Nothing yet! 👻 Tap an emotion to it.",first:"Awesome, first one tracked. 👊 Add a note."},DEFAULT_USER_EMOJIONS:[{emoji:"😄",0:"😄",emotion:"Joy",1:"Joy",key:"1",2:"1",color:"F4C811",3:"F4C811",text_color:"413504",4:"413504",question:"What actions did I take to put me into this state?",5:"What actions did I take to put me into this state?"},{emoji:"😌",0:"😌",emotion:"Grateful",1:"Grateful",key:"2",2:"2",color:"5BE399",3:"5BE399",text_color:"163826",4:"163826",question:"What triggered this feeling of gratitude and how can I trigger it again?",5:"What triggered this feeling of gratitude and how can I trigger it again?"},{emoji:"😎",0:"😎",emotion:"Arrogant",1:"Arrogant",key:"3",2:"3",color:"6734F1",3:"6734F1",text_color:"1F1146",4:"1F1146",question:"What’s a healthier way to meet my need for significance?",5:"What’s a healthier way to meet my need for significance?"},{emoji:"🤣",0:"🤣",emotion:"Funny",1:"Funny",key:"4",2:"4",color:"F16E27",3:"F16E27",text_color:"341706",4:"341706",question:"What makes you laugh?",5:"What makes you laugh?"},{emoji:"😡",0:"😡",emotion:"Angry",1:"Angry",key:"5",2:"5",color:"F04235",3:"F04235",text_color:"40110D",4:"40110D",question:"What else could this mean and is it significant?",5:"What else could this mean and is it significant?"},{emoji:"💪",0:"💪",emotion:"Confident",1:"Confident",key:"6",2:"6",color:"7A2EF1",3:"7A2EF1",text_color:"200A44",4:"200A44",question:"How can I continue to extend this feeling?",5:"How can I continue to extend this feeling?"},{emoji:"😰",0:"😰",emotion:"Anxious",1:"Anxious",key:"7",2:"7",color:"150311",3:"150311",text_color:"FFFFFF",4:"FFFFFF",question:"What’s one thing that I can be grateful about praise myself for right now?",5:"What’s one thing that I can be grateful about praise myself for right now?"},{emoji:"😞",0:"😞",emotion:"Down",1:"Down",key:"9",2:"9",color:"445EF1",3:"445EF1",text_color:"172054",4:"172054",question:"What would I have to believe to feel this way right now?",5:"What would I have to believe to feel this way right now?"}],DEFAULT_NOT_USER_EMOJIONS:[{emoji:"👊",0:"👊",emotion:"In Control",1:"In Control",key:"10",2:"10",color:"5CE372",3:"5CE372",text_color:"122C17",4:"122C17",question:"What’s the current state of things to make me feel this way?",5:"What’s the current state of things to make me feel this way?"},{emoji:"🙌",0:"🙌",emotion:"Motivated",1:"Motivated",key:"11",2:"11",color:"EC3751",3:"EC3751",text_color:"3D0D14",4:"3D0D14",question:"What’s a single thing that I can do right now to capture this motivation?",5:"What’s a single thing that I can do right now to capture this motivation?"},{emoji:"😱",0:"😱",emotion:"Fearful",1:"Fearful",key:"12",2:"12",color:"150311",3:"150311",text_color:"FFFFFF",4:"FFFFFF",question:"What’s the best thing that could happen?",5:"What’s the best thing that could happen?"},{emoji:"👁",0:"👁",emotion:"Focused",1:"Focused",key:"14",2:"14",color:"484DF1",3:"484DF1",text_color:"10113C",4:"10113C",question:"How can I plan my day in the future so that it continues to proceed like this?",5:"How can I plan my day in the future so that it continues to proceed like this?"},{emoji:"👻",0:"👻",emotion:"Ignored",1:"Ignored",key:"16",2:"16",color:"FFFFFF",3:"FFFFFF",text_color:"000000",4:"000000",question:"What else could this mean and what’s an action I can take to move forward?",5:"What else could this mean and what’s an action I can take to move forward?"},{emoji:"🤖",0:"🤖",emotion:"Apathetic",1:"Apathetic",key:"18",2:"18",color:"A6A6A6",3:"A6A6A6",text_color:"000000",4:"000000",question:"What’s one small thing that I can do for someone else to show that I care about them?",5:"What’s one small thing that I can do for someone else to show that I care about them?"},{emoji:"🤥",0:"🤥",emotion:"Used",1:"Used",key:"19",2:"19",color:"4B93F1",3:"4B93F1",text_color:"172E4D",4:"172E4D",question:"How do you let people take advantage of you? ",5:"How do you let people take advantage of you? "},{emoji:"🤠",0:"🤠",emotion:"Courageous",1:"Courageous",key:"20",2:"20",color:"F19D11",3:"F19D11",text_color:"312004",4:"312004",question:"What was the thing that caused me to push through and take action?",5:"What was the thing that caused me to push through and take action?"},{emoji:"👅",0:"👅",emotion:"Horny",1:"Horny",key:"22",2:"22",color:"F03177",3:"F03177",text_color:"380A1B",4:"380A1B",question:"What’s the healthiest way to satisfy this feeling?",5:"What’s the healthiest way to satisfy this feeling?"},{emoji:"🤢",0:"🤢",emotion:"Disgusted",1:"Disgusted",key:"24",2:"24",color:"788311",3:"788311",text_color:"181B03",4:"181B03",question:"How did you break your own values, and what’s one thing you can do in the future to lessen the intensity of this feeling or avoid it?",5:"How did you break your own values, and what’s one thing you can do in the future to lessen the intensity of this feeling or avoid it?"},{emoji:"👶",0:"👶",emotion:"Powerless",1:"Powerless",key:"25",2:"25",color:"56CBF1",3:"56CBF1",text_color:"173A45",4:"173A45",question:"What is it that I really want?",5:"What is it that I really want?"},{emoji:"😫",0:"😫",emotion:"Overwhelmed",1:"Overwhelmed",key:"26",2:"26",color:"F3BA11",3:"F3BA11",text_color:"413205",4:"413205",question:"What is one small thing that I can do right now to move forward?",5:"What is one small thing that I can do right now to move forward?"},{emoji:"😩",0:"😩",emotion:"Lethargic",1:"Lethargic",key:"27",2:"27",color:"8F3711",3:"8F3711",text_color:"2B1004",4:"2B1004",question:"Can I drink one bottle of water?",5:"Can I drink one bottle of water?"},{emoji:"😔",0:"😔",emotion:"Guilty",1:"Guilty",key:"28",2:"28",color:"6A6A6A",3:"6A6A6A",text_color:"000000",4:"000000",question:"What’s one thing that I can listen to right now that will make me feel empowered?",5:"What’s one thing that I can listen to right now that will make me feel empowered?"},{emoji:"😖",0:"😖",emotion:"Frustrated",1:"Frustrated",key:"29",2:"29",color:"F04235",3:"F04235",text_color:"40110D",4:"40110D",question:"What are my other options?",5:"What are my other options?"}]},DB={getSignUpLoginErrors:function(e){null!=ERROR_DATA?e&&e(ERROR_DATA):e&&e(null)},getLocalEntries:function(e){var t=void 0;try{t=window.localStorage.getItem("entries")}catch(e){}return null!=t&&void 0!==(t=JSON.parse(t))[e]?t[e]:null},recordTooltip:function(e,t){var i=void 0;try{i=window.localStorage.getItem("tooltips")}catch(e){}if(null!=i)(i=JSON.parse(i))[e]=!1,window.localStorage.setItem("tooltips",JSON.stringify(i)),t(i);else{var n={};n.press=!0,n.write=!0,n.tap=!0,n[e]=!1,window.localStorage.setItem("tooltips",JSON.stringify(n)),t(n)}},getTooltips:function(e){var t=void 0;try{t=window.localStorage.getItem("tooltips")}catch(e){}e(null!=t?t=JSON.parse(t):{press:!0,write:!0,tap:!0})},saveLocalEntries:function(e,t,i,n,o,s){var r=void 0;void 0!==n&&(t.color=n),void 0!==o&&(t.text_color=o),void 0!==s&&(t.question=s);try{r=window.localStorage.getItem("entries")}catch(e){}if(null==r)try{var a={};a[e]=[t],window.localStorage.setItem("entries",JSON.stringify(a))}catch(e){}else{r=JSON.parse(r),void 0===i?void 0===r[e]?r[e]=[t]:r[e].push(t):r[e][i]=t;try{window.localStorage.setItem("entries",JSON.stringify(r))}catch(e){}}},getTodaysEntries:function(e){var t=moment(moment.now()).format("YYYY-MM-DD");e(GLOBAL_STATE.isLoggedIn?USER_DATA.entries:DB.getLocalEntries(t))},saveNote:function(e,t,i,n){if(GLOBAL_STATE.isLoggedIn)AJAX.post("saveNote",{entry:e,note:i}).then(function(e){n(e)});else{var o=moment(e.time).format("YYYY-MM-DD");e.note=i,n(DB.saveLocalEntries(o,e,t))}},trackEntry:function(e,t,i,n,o){var s=moment(moment.now()).format("YYYY-MM-DD");GLOBAL_STATE.isLoggedIn?AJAX.post("trackEntry",{emojion:e,color:t,textColor:i,question:n}).then(function(e){o(e)}):(DB.saveLocalEntries(s,e,void 0,t,i,n),o(DB.getLocalEntries(s)))},signUpUser:function(e,t){var i={signUpEmail:e,signUpPassword:t,timezone:UTILS.getClientTimezone()},n=window.localStorage.getItem("entries"),o=window.localStorage.getItem("userEmojions");null!=n&&(i.entries=JSON.parse(n)),null!=o&&(i.userEmojions=JSON.parse(o)),AJAX.post("signup",i,!0).then(function(e){})},loginUser:function(e,t){var i={loginEmail:e,loginPassword:t,timezone:UTILS.getClientTimezone()},n=window.localStorage.getItem("entries");null!=n&&(i.entries=JSON.parse(n)),AJAX.post("login",i,!0).then(function(e){})},logoutUser:function(){AJAX.post("logout",{},!0).then(function(e){})},saveUserEmojions:function(e){GLOBAL_STATE.isLoggedIn?AJAX.post("saveEmojions",USER_DATA.user_emojions).then(function(e){}):window.localStorage.setItem("userEmojions",JSON.stringify(e))},saveNotUserEmojions:function(e){window.localStorage.setItem("notUserEmojions",JSON.stringify(e))},getUserEmojions:function(e){var t=void 0;if(GLOBAL_STATE.isLoggedIn){try{t=USER_DATA.user_emojions}catch(e){}null!=t&&e(t)}else{try{t=window.localStorage.getItem("userEmojions")}catch(e){}e(null!=t?JSON.parse(t):CONSTS.DEFAULT_USER_EMOJIONS)}},getPreviousDayCharts:function(e){e(GLOBAL_STATE.isLoggedIn?USER_DATA.previousDayCharts:void 0)},getNotUserEmojions:function(e){var t=void 0;if(GLOBAL_STATE.isLoggedIn)null!=(t=USER_DATA.not_user_emojions)&&e(t);else{try{t=window.localStorage.getItem("notUserEmojions")}catch(e){}e(null!=t?JSON.parse(t):CONSTS.DEFAULT_NOT_USER_EMOJIONS)}},saveUserLocationPermissions:function(e){window.localStorage.setItem("userLocationPermissions",JSON.stringify({permission:e}))},getUserLocationPermissions:function(e){var t=void 0;try{t=window.localStorage.getItem("userLocationPermissions")}catch(e){}null!=t?e(JSON.parse(t)):(window.localStorage.setItem("userLocationPermissions",JSON.stringify({permission:"pending"})),e({permission:"pending"}))},saveLocationToEntry:function(e,t,i,n){var o=moment(+t.time).format("YYYY-MM-DD"),s=i.coords.latitude,r=i.coords.longitude;GLOBAL_STATE.isLoggedIn?AJAX.post("saveLocationToEntry",{entryKey:t.key,latitude:s,longitude:r}).then(function(e){n(e)}):(DB.saveLocalEntries(o,t,e),void 0!==n&&n(DB.getLocalEntries(o)))}},DOM={freezeScreen:function(){GLOBAL_STATE.previousScrollY=window.scrollY,setTimeout(function(){window.scrollTo(0,0)},0),document.body.classList.remove("Ox(hidden)"),document.body.classList.add("O(hidden)","rsp-1-Oy(visible)")},unfreezeScreen:function(){setTimeout(function(){window.scrollTo(0,GLOBAL_STATE.previousScrollY)},0),document.body.classList.remove("O(hidden)","rsp-1-Oy(visible)"),document.body.classList.add("Ox(hidden)")},showApp:function(){var e=document.querySelector(".js-app"),t=document.querySelector(".js-loading");e.classList.remove("hidden"),t.classList.add("hidden")},showError:function(){document.querySelector(".js-error").classList.remove("hidden")},hideError:function(){document.querySelector(".js-error").classList.add("hidden")}},UTILS={toArray:function(e){var t=[];for(var i in e)e[i][".key"]=i,t.push(e[i]);return t},removeKeys:function(e){for(var t=0;t<e.length;t+=1)delete e[t][".key"];return e},getIndex:function(e,t){for(var i=0;i<e.length;i+=1)if(_.isEqual(e[i],t))return i;return-1},replaceAtIndex:function(e,t,i){e[t]=i},getClientTimezone:function(){var e=(new Date).getTimezoneOffset();return e=0===e?0:-e},convertUnixTimeToPMAM:function(e){return function(e){var t=e.getHours(),i=e.getMinutes(),n=t>=12?"pm":"am";return t%=12,t=t||12,i=i<10?"0"+i:i,t+":"+i+" "+n}(new Date(e))},getAddress:function(e){var t="";return e.results.length&&e.results[0].address_components.forEach(function(e){e.types.includes("sublocality")&&(t+=e.long_name+", "),e.types.includes("locality")&&(t+=e.long_name)}),t},comparer:function(e,t){return function(i){return 0===e.filter(function(e){return e[t]===i[t]}).length}},showError:function(){},removeUserDataFromLocalStorage:function(){window.localStorage.removeItem("entries"),window.localStorage.removeItem("userEmojions"),window.localStorage.removeItem("notUserEmojions")},removeAllLocalStorage:function(){window.localStorage.removeItem("tooltips"),window.localStorage.removeItem("entries"),window.localStorage.removeItem("userEmojions"),window.localStorage.removeItem("notUserEmojions"),window.localStorage.removeItem("userLocation")}};!function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var i={exports:{}};t(i.exports,i),e.autosize=i.exports}}(void 0,function(e,t){function i(e){function t(t){var i=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=i,e.style.overflowY=t}function i(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function n(){var t=e.style.height,n=i(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="";var s=e.scrollHeight+a;0!==e.scrollHeight?(e.style.height=s+"px",l=e.clientWidth,n.forEach(function(e){e.node.scrollTop=e.scrollTop}),o&&(document.documentElement.scrollTop=o)):e.style.height=t}function o(){n();var i=Math.round(parseFloat(e.style.height)),o=window.getComputedStyle(e,null),s="content-box"===o.boxSizing?Math.round(parseFloat(o.height)):e.offsetHeight;if(s!==i?"hidden"===o.overflowY&&(t("scroll"),n(),s="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==o.overflowY&&(t("hidden"),n(),s="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),u!==s){u=s;var a=r("autosize:resized");try{e.dispatchEvent(a)}catch(e){}}}if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!s.has(e)){var a=null,l=e.clientWidth,u=null,c=function(){e.clientWidth!==l&&o()},h=function(t){window.removeEventListener("resize",c,!1),e.removeEventListener("input",o,!1),e.removeEventListener("keyup",o,!1),e.removeEventListener("autosize:destroy",h,!1),e.removeEventListener("autosize:update",o,!1),Object.keys(t).forEach(function(i){e.style[i]=t[i]}),s.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",h,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",o,!1),window.addEventListener("resize",c,!1),e.addEventListener("input",o,!1),e.addEventListener("autosize:update",o,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",s.set(e,{destroy:h,update:o}),function(){var t=window.getComputedStyle(e,null);"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),a="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(a)&&(a=0),o()}()}}function n(e){var t=s.get(e);t&&t.destroy()}function o(e){var t=s.get(e);t&&t.update()}var s="function"==typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(i){return t[e.indexOf(i)]},set:function(i,n){-1===e.indexOf(i)&&(e.push(i),t.push(n))},delete:function(i){var n=e.indexOf(i);n>-1&&(e.splice(n,1),t.splice(n,1))}}}(),r=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){r=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var a=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((a=function(e){return e}).destroy=function(e){return e},a.update=function(e){return e}):((a=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return i(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],n),e},a.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e}),t.exports=a});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"function"==typeof define&&define.amd?define("Chartist",[],function(){return e.Chartist=t()}):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t():e.Chartist=t()}(void 0,function(){var e={version:"0.11.0"};return function(e,t,i){i.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},i.noop=function(e){return e},i.alphaNumerate=function(e){return String.fromCharCode(97+e%26)},i.extend=function(e){var t,n,o;for(e=e||{},t=1;t<arguments.length;t++){n=arguments[t];for(var s in n)"object"!==(void 0===(o=n[s])?"undefined":_typeof(o))||null===o||o instanceof Array?e[s]=o:e[s]=i.extend(e[s],o)}return e},i.replaceAll=function(e,t,i){return e.replace(new RegExp(t,"g"),i)},i.ensureUnit=function(e,t){return"number"==typeof e&&(e+=t),e},i.quantity=function(e){if("string"==typeof e){var t=/^(\d+)\s*(.*)$/g.exec(e);return{value:+t[1],unit:t[2]||void 0}}return{value:e}},i.querySelector=function(e){return e instanceof Node?e:t.querySelector(e)},i.times=function(e){return Array.apply(null,new Array(e))},i.sum=function(e,t){return e+(t||0)},i.mapMultiply=function(e){return function(t){return t*e}},i.mapAdd=function(e){return function(t){return t+e}},i.serialMap=function(e,t){var n=[],o=Math.max.apply(null,e.map(function(e){return e.length}));return i.times(o).forEach(function(i,o){var s=e.map(function(e){return e[o]});n[o]=t.apply(null,s)}),n},i.roundWithPrecision=function(e,t){var n=Math.pow(10,t||i.precision);return Math.round(e*n)/n},i.precision=8,i.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},i.serialize=function(e){return null===e||void 0===e?e:("number"==typeof e?e=""+e:"object"===(void 0===e?"undefined":_typeof(e))&&(e=JSON.stringify({data:e})),Object.keys(i.escapingMap).reduce(function(e,t){return i.replaceAll(e,t,i.escapingMap[t])},e))},i.deserialize=function(e){if("string"!=typeof e)return e;e=Object.keys(i.escapingMap).reduce(function(e,t){return i.replaceAll(e,i.escapingMap[t],t)},e);try{e=void 0!==(e=JSON.parse(e)).data?e.data:e}catch(e){}return e},i.createSvg=function(e,t,n,o){var s;return t=t||"100%",n=n||"100%",Array.prototype.slice.call(e.querySelectorAll("svg")).filter(function(e){return e.getAttributeNS(i.namespaces.xmlns,"ct")}).forEach(function(t){e.removeChild(t)}),s=new i.Svg("svg").attr({width:t,height:n}).addClass(o),s._node.style.width=t,s._node.style.height=n,e.appendChild(s._node),s},i.normalizeData=function(e,t,n){var o,s={raw:e,normalized:{}};return s.normalized.series=i.getDataArray({series:e.series||[]},t,n),o=s.normalized.series.every(function(e){return e instanceof Array})?Math.max.apply(null,s.normalized.series.map(function(e){return e.length})):s.normalized.series.length,s.normalized.labels=(e.labels||[]).slice(),Array.prototype.push.apply(s.normalized.labels,i.times(Math.max(0,o-s.normalized.labels.length)).map(function(){return""})),t&&i.reverseData(s.normalized),s},i.safeHasProperty=function(e,t){return null!==e&&"object"===(void 0===e?"undefined":_typeof(e))&&e.hasOwnProperty(t)},i.isDataHoleValue=function(e){return null===e||void 0===e||"number"==typeof e&&isNaN(e)},i.reverseData=function(e){e.labels.reverse(),e.series.reverse();for(var t=0;t<e.series.length;t++)"object"===_typeof(e.series[t])&&void 0!==e.series[t].data?e.series[t].data.reverse():e.series[t]instanceof Array&&e.series[t].reverse()},i.getDataArray=function(e,t,n){function o(e){if(i.safeHasProperty(e,"value"))return o(e.value);if(i.safeHasProperty(e,"data"))return o(e.data);if(e instanceof Array)return e.map(o);if(!i.isDataHoleValue(e)){if(n){var t={};return"string"==typeof n?t[n]=i.getNumberOrUndefined(e):t.y=i.getNumberOrUndefined(e),t.x=e.hasOwnProperty("x")?i.getNumberOrUndefined(e.x):t.x,t.y=e.hasOwnProperty("y")?i.getNumberOrUndefined(e.y):t.y,t}return i.getNumberOrUndefined(e)}}return e.series.map(o)},i.normalizePadding=function(e,t){return t=t||0,"number"==typeof e?{top:e,right:e,bottom:e,left:e}:{top:"number"==typeof e.top?e.top:t,right:"number"==typeof e.right?e.right:t,bottom:"number"==typeof e.bottom?e.bottom:t,left:"number"==typeof e.left?e.left:t}},i.getMetaData=function(e,t){var i=e.data?e.data[t]:e[t];return i?i.meta:void 0},i.orderOfMagnitude=function(e){return Math.floor(Math.log(Math.abs(e))/Math.LN10)},i.projectLength=function(e,t,i){return t/i.range*e},i.getAvailableHeight=function(e,t){return Math.max((i.quantity(t.height).value||e.height())-(t.chartPadding.top+t.chartPadding.bottom)-t.axisX.offset,0)},i.getHighLow=function(e,t,n){function o(e){if(void 0!==e)if(e instanceof Array)for(var t=0;t<e.length;t++)o(e[t]);else{var i=n?+e[n]:+e;r&&i>s.high&&(s.high=i),a&&i<s.low&&(s.low=i)}}var s={high:void 0===(t=i.extend({},t,n?t["axis"+n.toUpperCase()]:{})).high?-Number.MAX_VALUE:+t.high,low:void 0===t.low?Number.MAX_VALUE:+t.low},r=void 0===t.high,a=void 0===t.low;return(r||a)&&o(e),(t.referenceValue||0===t.referenceValue)&&(s.high=Math.max(t.referenceValue,s.high),s.low=Math.min(t.referenceValue,s.low)),s.high<=s.low&&(0===s.low?s.high=1:s.low<0?s.high=0:s.high>0?s.low=0:(s.high=1,s.low=0)),s},i.isNumeric=function(e){return null!==e&&isFinite(e)},i.isFalseyButZero=function(e){return!e&&0!==e},i.getNumberOrUndefined=function(e){return i.isNumeric(e)?+e:void 0},i.isMultiValue=function(e){return"object"===(void 0===e?"undefined":_typeof(e))&&("x"in e||"y"in e)},i.getMultiValue=function(e,t){return i.isMultiValue(e)?i.getNumberOrUndefined(e[t||"y"]):i.getNumberOrUndefined(e)},i.rho=function(e){function t(e,i){return e%i==0?i:t(i,e%i)}function i(e){return e*e+1}if(1===e)return e;var n,o=2,s=2;if(e%2==0)return 2;do{o=i(o)%e,s=i(i(s))%e,n=t(Math.abs(o-s),e)}while(1===n);return n},i.getBounds=function(e,t,n,o){function s(e,t){return e===(e+=t)&&(e*=1+(t>0?m:-m)),e}var r,a,l,u=0,c={high:t.high,low:t.low};c.valueRange=c.high-c.low,c.oom=i.orderOfMagnitude(c.valueRange),c.step=Math.pow(10,c.oom),c.min=Math.floor(c.low/c.step)*c.step,c.max=Math.ceil(c.high/c.step)*c.step,c.range=c.max-c.min,c.numberOfSteps=Math.round(c.range/c.step);var h=i.projectLength(e,c.step,c)<n,d=o?i.rho(c.range):0;if(o&&i.projectLength(e,1,c)>=n)c.step=1;else if(o&&d<c.step&&i.projectLength(e,d,c)>=n)c.step=d;else for(;;){if(h&&i.projectLength(e,c.step,c)<=n)c.step*=2;else{if(h||!(i.projectLength(e,c.step/2,c)>=n))break;if(c.step/=2,o&&c.step%1!=0){c.step*=2;break}}if(u++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var m=2.221e-16;for(c.step=Math.max(c.step,m),a=c.min,l=c.max;a+c.step<=c.low;)a=s(a,c.step);for(;l-c.step>=c.high;)l=s(l,-c.step);c.min=a,c.max=l,c.range=c.max-c.min;var p=[];for(r=c.min;r<=c.max;r=s(r,c.step)){var f=i.roundWithPrecision(r);f!==p[p.length-1]&&p.push(f)}return c.values=p,c},i.polarToCartesian=function(e,t,i,n){var o=(n-90)*Math.PI/180;return{x:e+i*Math.cos(o),y:t+i*Math.sin(o)}},i.createChartRect=function(e,t,n){var o=!(!t.axisX&&!t.axisY),s=o?t.axisY.offset:0,r=o?t.axisX.offset:0,a=e.width()||i.quantity(t.width).value||0,l=e.height()||i.quantity(t.height).value||0,u=i.normalizePadding(t.chartPadding,n);a=Math.max(a,s+u.left+u.right),l=Math.max(l,r+u.top+u.bottom);var c={padding:u,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return o?("start"===t.axisX.position?(c.y2=u.top+r,c.y1=Math.max(l-u.bottom,c.y2+1)):(c.y2=u.top,c.y1=Math.max(l-u.bottom-r,c.y2+1)),"start"===t.axisY.position?(c.x1=u.left+s,c.x2=Math.max(a-u.right,c.x1+1)):(c.x1=u.left,c.x2=Math.max(a-u.right-s,c.x1+1))):(c.x1=u.left,c.x2=Math.max(a-u.right,c.x1+1),c.y2=u.top,c.y1=Math.max(l-u.bottom,c.y2+1)),c},i.createGrid=function(e,t,n,o,s,r,a,l){var u={};u[n.units.pos+"1"]=e,u[n.units.pos+"2"]=e,u[n.counterUnits.pos+"1"]=o,u[n.counterUnits.pos+"2"]=o+s;var c=r.elem("line",u,a.join(" "));l.emit("draw",i.extend({type:"grid",axis:n,index:t,group:r,element:c},u))},i.createGridBackground=function(e,t,i,n){var o=e.elem("rect",{x:t.x1,y:t.y2,width:t.width(),height:t.height()},i,!0);n.emit("draw",{type:"gridBackground",group:e,element:o})},i.createLabel=function(e,n,o,s,r,a,l,u,c,h,d){var m,p={};if(p[r.units.pos]=e+l[r.units.pos],p[r.counterUnits.pos]=l[r.counterUnits.pos],p[r.units.len]=n,p[r.counterUnits.len]=Math.max(0,a-10),h){var f=t.createElement("span");f.className=c.join(" "),f.setAttribute("xmlns",i.namespaces.xhtml),f.innerText=s[o],f.style[r.units.len]=Math.round(p[r.units.len])+"px",f.style[r.counterUnits.len]=Math.round(p[r.counterUnits.len])+"px",m=u.foreignObject(f,i.extend({style:"overflow: visible;"},p))}else m=u.elem("text",p,c.join(" ")).text(s[o]);d.emit("draw",i.extend({type:"label",axis:r,index:o,group:u,element:m,text:s[o]},p))},i.getSeriesOption=function(e,t,i){if(e.name&&t.series&&t.series[e.name]){var n=t.series[e.name];return n.hasOwnProperty(i)?n[i]:t[i]}return t[i]},i.optionsProvider=function(t,n,o){function s(t){var s=r;if(r=i.extend({},l),n)for(a=0;a<n.length;a++)e.matchMedia(n[a][0]).matches&&(r=i.extend(r,n[a][1]));o&&t&&o.emit("optionsChanged",{previousOptions:s,currentOptions:r})}var r,a,l=i.extend({},t),u=[];if(!e.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(n)for(a=0;a<n.length;a++){var c=e.matchMedia(n[a][0]);c.addListener(s),u.push(c)}return s(),{removeMediaQueryListeners:function(){u.forEach(function(e){e.removeListener(s)})},getCurrentOptions:function(){return i.extend({},r)}}},i.splitIntoSegments=function(e,t,n){var o={increasingX:!1,fillHoles:!1};n=i.extend({},o,n);for(var s=[],r=!0,a=0;a<e.length;a+=2)void 0===i.getMultiValue(t[a/2].value)?n.fillHoles||(r=!0):(n.increasingX&&a>=2&&e[a]<=e[a-2]&&(r=!0),r&&(s.push({pathCoordinates:[],valueData:[]}),r=!1),s[s.length-1].pathCoordinates.push(e[a],e[a+1]),s[s.length-1].valueData.push(t[a/2]));return s}}(window,document,e),function(e,t,i){i.Interpolation={},i.Interpolation.none=function(e){var t={fillHoles:!1};return e=i.extend({},t,e),function(t,n){for(var o=new i.Svg.Path,s=!0,r=0;r<t.length;r+=2){var a=t[r],l=t[r+1],u=n[r/2];void 0!==i.getMultiValue(u.value)?(s?o.move(a,l,!1,u):o.line(a,l,!1,u),s=!1):e.fillHoles||(s=!0)}return o}},i.Interpolation.simple=function(e){var t={divisor:2,fillHoles:!1};e=i.extend({},t,e);var n=1/Math.max(1,e.divisor);return function(t,o){for(var s,r,a,l=new i.Svg.Path,u=0;u<t.length;u+=2){var c=t[u],h=t[u+1],d=(c-s)*n,m=o[u/2];void 0!==m.value?(void 0===a?l.move(c,h,!1,m):l.curve(s+d,r,c-d,h,c,h,!1,m),s=c,r=h,a=m):e.fillHoles||(s=c=a=void 0)}return l}},i.Interpolation.cardinal=function(e){var t={tension:1,fillHoles:!1};e=i.extend({},t,e);var n=Math.min(1,Math.max(0,e.tension)),o=1-n;return function t(s,r){var a=i.splitIntoSegments(s,r,{fillHoles:e.fillHoles});if(a.length){if(a.length>1){var l=[];return a.forEach(function(e){l.push(t(e.pathCoordinates,e.valueData))}),i.Svg.Path.join(l)}if(s=a[0].pathCoordinates,r=a[0].valueData,s.length<=4)return i.Interpolation.none()(s,r);for(var u=(new i.Svg.Path).move(s[0],s[1],!1,r[0]),c=0,h=s.length;h-2>c;c+=2){var d=[{x:+s[c-2],y:+s[c-1]},{x:+s[c],y:+s[c+1]},{x:+s[c+2],y:+s[c+3]},{x:+s[c+4],y:+s[c+5]}];h-4===c?d[3]=d[2]:c||(d[0]={x:+s[c],y:+s[c+1]}),u.curve(n*(-d[0].x+6*d[1].x+d[2].x)/6+o*d[2].x,n*(-d[0].y+6*d[1].y+d[2].y)/6+o*d[2].y,n*(d[1].x+6*d[2].x-d[3].x)/6+o*d[2].x,n*(d[1].y+6*d[2].y-d[3].y)/6+o*d[2].y,d[2].x,d[2].y,!1,r[(c+2)/2])}return u}return i.Interpolation.none()([])}},i.Interpolation.monotoneCubic=function(e){var t={fillHoles:!1};return e=i.extend({},t,e),function t(n,o){var s=i.splitIntoSegments(n,o,{fillHoles:e.fillHoles,increasingX:!0});if(s.length){if(s.length>1){var r=[];return s.forEach(function(e){r.push(t(e.pathCoordinates,e.valueData))}),i.Svg.Path.join(r)}if(n=s[0].pathCoordinates,o=s[0].valueData,n.length<=4)return i.Interpolation.none()(n,o);var a,l,u=[],c=[],h=n.length/2,d=[],m=[],p=[],f=[];for(a=0;a<h;a++)u[a]=n[2*a],c[a]=n[2*a+1];for(a=0;a<h-1;a++)p[a]=c[a+1]-c[a],f[a]=u[a+1]-u[a],m[a]=p[a]/f[a];for(d[0]=m[0],d[h-1]=m[h-2],a=1;a<h-1;a++)0===m[a]||0===m[a-1]||m[a-1]>0!=m[a]>0?d[a]=0:(d[a]=3*(f[a-1]+f[a])/((2*f[a]+f[a-1])/m[a-1]+(f[a]+2*f[a-1])/m[a]),isFinite(d[a])||(d[a]=0));for(l=(new i.Svg.Path).move(u[0],c[0],!1,o[0]),a=0;a<h-1;a++)l.curve(u[a]+f[a]/3,c[a]+d[a]*f[a]/3,u[a+1]-f[a]/3,c[a+1]-d[a+1]*f[a]/3,u[a+1],c[a+1],!1,o[a+1]);return l}return i.Interpolation.none()([])}},i.Interpolation.step=function(e){var t={postpone:!0,fillHoles:!1};return e=i.extend({},t,e),function(t,n){for(var o,s,r,a=new i.Svg.Path,l=0;l<t.length;l+=2){var u=t[l],c=t[l+1],h=n[l/2];void 0!==h.value?(void 0===r?a.move(u,c,!1,h):(e.postpone?a.line(u,s,!1,r):a.line(o,c,!1,h),a.line(u,c,!1,h)),o=u,s=c,r=h):e.fillHoles||(o=s=r=void 0)}return a}}}(window,document,e),function(e,t,i){i.EventEmitter=function(){var e=[];return{addEventHandler:function(t,i){e[t]=e[t]||[],e[t].push(i)},removeEventHandler:function(t,i){e[t]&&(i?(e[t].splice(e[t].indexOf(i),1),0===e[t].length&&delete e[t]):delete e[t])},emit:function(t,i){e[t]&&e[t].forEach(function(e){e(i)}),e["*"]&&e["*"].forEach(function(e){e(t,i)})}}}}(window,document,e),function(e,t,i){function n(e){var t=[];if(e.length)for(var i=0;i<e.length;i++)t.push(e[i]);return t}i.Class={extend:function(e,t){var n=t||this.prototype||i.Class,o=Object.create(n);i.Class.cloneDefinitions(o,e);var s=function(){var e,t=o.constructor||function(){};return e=this===i?Object.create(o):this,t.apply(e,Array.prototype.slice.call(arguments,0)),e};return s.prototype=o,s.super=n,s.extend=this.extend,s},cloneDefinitions:function(){var e=n(arguments),t=e[0];return e.splice(1,e.length-1).forEach(function(e){Object.getOwnPropertyNames(e).forEach(function(i){delete t[i],Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}),t}}}(window,document,e),function(e,t,i){function n(){e.addEventListener("resize",this.resizeListener),this.optionsProvider=i.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(e){e instanceof Array?e[0](this,e[1]):e(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}i.Base=i.Class.extend({constructor:function(e,t,o,s,r){this.container=i.querySelector(e),this.data=t||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=o,this.options=s,this.responsiveOptions=r,this.eventEmitter=i.EventEmitter(),this.supportsForeignObject=i.Svg.isSupported("Extensibility"),this.supportsAnimations=i.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(n.bind(this),0)},optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:function(e,t,n){return e&&(this.data=e||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),t&&(this.options=i.extend({},n?this.options:this.defaultOptions,t),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=i.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this},detach:function(){return this.initializeTimeoutId?e.clearTimeout(this.initializeTimeoutId):(e.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this},on:function(e,t){return this.eventEmitter.addEventHandler(e,t),this},off:function(e,t){return this.eventEmitter.removeEventHandler(e,t),this},version:i.version,supportsForeignObject:!1})}(window,document,e),function(e,t,i){i.Svg=i.Class.extend({constructor:function(e,n,o,s,r){e instanceof Element?this._node=e:(this._node=t.createElementNS(i.namespaces.svg,e),"svg"===e&&this.attr({"xmlns:ct":i.namespaces.ct})),n&&this.attr(n),o&&this.addClass(o),s&&(r&&s._node.firstChild?s._node.insertBefore(this._node,s._node.firstChild):s._node.appendChild(this._node))},attr:function(e,t){return"string"==typeof e?t?this._node.getAttributeNS(t,e):this._node.getAttribute(e):(Object.keys(e).forEach(function(t){if(void 0!==e[t])if(-1!==t.indexOf(":")){var n=t.split(":");this._node.setAttributeNS(i.namespaces[n[0]],t,e[t])}else this._node.setAttribute(t,e[t])}.bind(this)),this)},elem:function(e,t,n,o){return new i.Svg(e,t,n,this,o)},parent:function(){return this._node.parentNode instanceof SVGElement?new i.Svg(this._node.parentNode):null},root:function(){for(var e=this._node;"svg"!==e.nodeName;)e=e.parentNode;return new i.Svg(e)},querySelector:function(e){var t=this._node.querySelector(e);return t?new i.Svg(t):null},querySelectorAll:function(e){var t=this._node.querySelectorAll(e);return t.length?new i.Svg.List(t):null},getNode:function(){return this._node},foreignObject:function(e,n,o,s){if("string"==typeof e){var r=t.createElement("div");r.innerHTML=e,e=r.firstChild}e.setAttribute("xmlns",i.namespaces.xmlns);var a=this.elem("foreignObject",n,o,s);return a._node.appendChild(e),a},text:function(e){return this._node.appendChild(t.createTextNode(e)),this},empty:function(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this},remove:function(){return this._node.parentNode.removeChild(this._node),this.parent()},replace:function(e){return this._node.parentNode.replaceChild(e._node,this._node),e},append:function(e,t){return t&&this._node.firstChild?this._node.insertBefore(e._node,this._node.firstChild):this._node.appendChild(e._node),this},classes:function(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]},addClass:function(e){return this._node.setAttribute("class",this.classes(this._node).concat(e.trim().split(/\s+/)).filter(function(e,t,i){return i.indexOf(e)===t}).join(" ")),this},removeClass:function(e){var t=e.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(e){return-1===t.indexOf(e)}).join(" ")),this},removeAllClasses:function(){return this._node.setAttribute("class",""),this},height:function(){return this._node.getBoundingClientRect().height},width:function(){return this._node.getBoundingClientRect().width},animate:function(e,t,n){return void 0===t&&(t=!0),Object.keys(e).forEach(function(o){function s(e,t){var s,r,a,l={};e.easing&&(a=e.easing instanceof Array?e.easing:i.Svg.Easing[e.easing],delete e.easing),e.begin=i.ensureUnit(e.begin,"ms"),e.dur=i.ensureUnit(e.dur,"ms"),a&&(e.calcMode="spline",e.keySplines=a.join(" "),e.keyTimes="0;1"),t&&(e.fill="freeze",l[o]=e.from,this.attr(l),r=i.quantity(e.begin||0).value,e.begin="indefinite"),s=this.elem("animate",i.extend({attributeName:o},e)),t&&setTimeout(function(){try{s._node.beginElement()}catch(t){l[o]=e.to,this.attr(l),s.remove()}}.bind(this),r),n&&s._node.addEventListener("beginEvent",function(){n.emit("animationBegin",{element:this,animate:s._node,params:e})}.bind(this)),s._node.addEventListener("endEvent",function(){n&&n.emit("animationEnd",{element:this,animate:s._node,params:e}),t&&(l[o]=e.to,this.attr(l),s.remove())}.bind(this))}e[o]instanceof Array?e[o].forEach(function(e){s.bind(this)(e,!1)}.bind(this)):s.bind(this)(e[o],t)}.bind(this)),this}}),i.Svg.isSupported=function(e){return t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+e,"1.1")};var n={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};i.Svg.Easing=n,i.Svg.List=i.Class.extend({constructor:function(e){var t=this;this.svgElements=[];for(var n=0;n<e.length;n++)this.svgElements.push(new i.Svg(e[n]));Object.keys(i.Svg.prototype).filter(function(e){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(e)}).forEach(function(e){t[e]=function(){var n=Array.prototype.slice.call(arguments,0);return t.svgElements.forEach(function(t){i.Svg.prototype[e].apply(t,n)}),t}})}})}(window,document,e),function(e,t,i){function n(e,t,n,o,s,r){var a=i.extend({command:s?e.toLowerCase():e.toUpperCase()},t,r?{data:r}:{});n.splice(o,0,a)}function o(e,t){e.forEach(function(i,n){s[i.command.toLowerCase()].forEach(function(o,s){t(i,o,n,s,e)})})}var s={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},r={accuracy:3};i.Svg.Path=i.Class.extend({constructor:function(e,t){this.pathElements=[],this.pos=0,this.close=e,this.options=i.extend({},r,t)},position:function(e){return void 0!==e?(this.pos=Math.max(0,Math.min(this.pathElements.length,e)),this):this.pos},remove:function(e){return this.pathElements.splice(this.pos,e),this},move:function(e,t,i,o){return n("M",{x:+e,y:+t},this.pathElements,this.pos++,i,o),this},line:function(e,t,i,o){return n("L",{x:+e,y:+t},this.pathElements,this.pos++,i,o),this},curve:function(e,t,i,o,s,r,a,l){return n("C",{x1:+e,y1:+t,x2:+i,y2:+o,x:+s,y:+r},this.pathElements,this.pos++,a,l),this},arc:function(e,t,i,o,s,r,a,l,u){return n("A",{rx:+e,ry:+t,xAr:+i,lAf:+o,sf:+s,x:+r,y:+a},this.pathElements,this.pos++,l,u),this},scale:function(e,t){return o(this.pathElements,function(i,n){i[n]*="x"===n[0]?e:t}),this},translate:function(e,t){return o(this.pathElements,function(i,n){i[n]+="x"===n[0]?e:t}),this},transform:function(e){return o(this.pathElements,function(t,i,n,o,s){var r=e(t,i,n,o,s);(r||0===r)&&(t[i]=r)}),this},parse:function(e){var t=e.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(e,t){return t.match(/[A-Za-z]/)&&e.push([]),e[e.length-1].push(t),e},[]);"Z"===t[t.length-1][0].toUpperCase()&&t.pop();var n=t.map(function(e){var t=e.shift(),n=s[t.toLowerCase()];return i.extend({command:t},n.reduce(function(t,i,n){return t[i]=+e[n],t},{}))}),o=[this.pos,0];return Array.prototype.push.apply(o,n),Array.prototype.splice.apply(this.pathElements,o),this.pos+=n.length,this},stringify:function(){var e=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(t,i){var n=s[i.command.toLowerCase()].map(function(t){return this.options.accuracy?Math.round(i[t]*e)/e:i[t]}.bind(this));return t+i.command+n.join(",")}.bind(this),"")+(this.close?"Z":"")},clone:function(e){var t=new i.Svg.Path(e||this.close);return t.pos=this.pos,t.pathElements=this.pathElements.slice().map(function(e){return i.extend({},e)}),t.options=i.extend({},this.options),t},splitByCommand:function(e){var t=[new i.Svg.Path];return this.pathElements.forEach(function(n){n.command===e.toUpperCase()&&0!==t[t.length-1].pathElements.length&&t.push(new i.Svg.Path),t[t.length-1].pathElements.push(n)}),t}}),i.Svg.Path.elementDescriptions=s,i.Svg.Path.join=function(e,t,n){for(var o=new i.Svg.Path(t,n),s=0;s<e.length;s++)for(var r=e[s],a=0;a<r.pathElements.length;a++)o.pathElements.push(r.pathElements[a]);return o}}(window,document,e),function(e,t,i){var n={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};i.Axis=i.Class.extend({constructor:function(e,t,i,o){this.units=e,this.counterUnits=e===n.x?n.y:n.x,this.chartRect=t,this.axisLength=t[e.rectEnd]-t[e.rectStart],this.gridOffset=t[e.rectOffset],this.ticks=i,this.options=o},createGridAndLabels:function(e,t,n,o,s){var r=o["axis"+this.units.pos.toUpperCase()],a=this.ticks.map(this.projectValue.bind(this)),l=this.ticks.map(r.labelInterpolationFnc);a.forEach(function(u,c){var h,d={x:0,y:0};h=a[c+1]?a[c+1]-u:Math.max(this.axisLength-u,30),i.isFalseyButZero(l[c])&&""!==l[c]||("x"===this.units.pos?(u=this.chartRect.x1+u,d.x=o.axisX.labelOffset.x,"start"===o.axisX.position?d.y=this.chartRect.padding.top+o.axisX.labelOffset.y+(n?5:20):d.y=this.chartRect.y1+o.axisX.labelOffset.y+(n?5:20)):(u=this.chartRect.y1-u,d.y=o.axisY.labelOffset.y-(n?h:0),"start"===o.axisY.position?d.x=n?this.chartRect.padding.left+o.axisY.labelOffset.x:this.chartRect.x1-10:d.x=this.chartRect.x2+o.axisY.labelOffset.x+10),r.showGrid&&i.createGrid(u,c,this,this.gridOffset,this.chartRect[this.counterUnits.len](),e,[o.classNames.grid,o.classNames[this.units.dir]],s),r.showLabel&&i.createLabel(u,h,c,l,this,r.offset,d,t,[o.classNames.label,o.classNames[this.units.dir],"start"===r.position?o.classNames[r.position]:o.classNames.end],n,s))}.bind(this))},projectValue:function(e,t,i){throw new Error("Base axis can't be instantiated!")}}),i.Axis.units=n}(window,document,e),function(e,t,i){i.AutoScaleAxis=i.Axis.extend({constructor:function(e,t,n,o){var s=o.highLow||i.getHighLow(t,o,e.pos);this.bounds=i.getBounds(n[e.rectEnd]-n[e.rectStart],s,o.scaleMinSpace||20,o.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},i.AutoScaleAxis.super.constructor.call(this,e,n,this.bounds.values,o)},projectValue:function(e){return this.axisLength*(+i.getMultiValue(e,this.units.pos)-this.bounds.min)/this.bounds.range}})}(window,document,e),function(e,t,i){i.FixedScaleAxis=i.Axis.extend({constructor:function(e,t,n,o){var s=o.highLow||i.getHighLow(t,o,e.pos);this.divisor=o.divisor||1,this.ticks=o.ticks||i.times(this.divisor).map(function(e,t){return s.low+(s.high-s.low)/this.divisor*t}.bind(this)),this.ticks.sort(function(e,t){return e-t}),this.range={min:s.low,max:s.high},i.FixedScaleAxis.super.constructor.call(this,e,n,this.ticks,o),this.stepLength=this.axisLength/this.divisor},projectValue:function(e){return this.axisLength*(+i.getMultiValue(e,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}})}(window,document,e),function(e,t,i){i.StepAxis=i.Axis.extend({constructor:function(e,t,n,o){i.StepAxis.super.constructor.call(this,e,n,o.ticks,o);var s=Math.max(1,o.ticks.length-(o.stretch?1:0));this.stepLength=this.axisLength/s},projectValue:function(e,t){return this.stepLength*t}})}(window,document,e),function(e,t,i){var n={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};i.Line=i.Base.extend({constructor:function(e,t,o,s){i.Line.super.constructor.call(this,e,t,n,i.extend({},n,o),s)},createChart:function(e){var t=i.normalizeData(this.data,e.reverseData,!0);this.svg=i.createSvg(this.container,e.width,e.height,e.classNames.chart);var o,s,r=this.svg.elem("g").addClass(e.classNames.gridGroup),a=this.svg.elem("g"),l=this.svg.elem("g").addClass(e.classNames.labelGroup),u=i.createChartRect(this.svg,e,n.padding);o=void 0===e.axisX.type?new i.StepAxis(i.Axis.units.x,t.normalized.series,u,i.extend({},e.axisX,{ticks:t.normalized.labels,stretch:e.fullWidth})):e.axisX.type.call(i,i.Axis.units.x,t.normalized.series,u,e.axisX),s=void 0===e.axisY.type?new i.AutoScaleAxis(i.Axis.units.y,t.normalized.series,u,i.extend({},e.axisY,{high:i.isNumeric(e.high)?e.high:e.axisY.high,low:i.isNumeric(e.low)?e.low:e.axisY.low})):e.axisY.type.call(i,i.Axis.units.y,t.normalized.series,u,e.axisY),o.createGridAndLabels(r,l,this.supportsForeignObject,e,this.eventEmitter),s.createGridAndLabels(r,l,this.supportsForeignObject,e,this.eventEmitter),e.showGridBackground&&i.createGridBackground(r,u,e.classNames.gridBackground,this.eventEmitter),t.raw.series.forEach(function(n,r){var l=a.elem("g");l.attr({"ct:series-name":n.name,"ct:meta":i.serialize(n.meta)}),l.addClass([e.classNames.series,n.className||e.classNames.series+"-"+i.alphaNumerate(r)].join(" "));var c=[],h=[];t.normalized.series[r].forEach(function(e,a){var l={x:u.x1+o.projectValue(e,a,t.normalized.series[r]),y:u.y1-s.projectValue(e,a,t.normalized.series[r])};c.push(l.x,l.y),h.push({value:e,valueIndex:a,meta:i.getMetaData(n,a)})}.bind(this));var d={lineSmooth:i.getSeriesOption(n,e,"lineSmooth"),showPoint:i.getSeriesOption(n,e,"showPoint"),showLine:i.getSeriesOption(n,e,"showLine"),showArea:i.getSeriesOption(n,e,"showArea"),areaBase:i.getSeriesOption(n,e,"areaBase")},m=("function"==typeof d.lineSmooth?d.lineSmooth:d.lineSmooth?i.Interpolation.monotoneCubic():i.Interpolation.none())(c,h);if(d.showPoint&&m.pathElements.forEach(function(t){var a=l.elem("line",{x1:t.x,y1:t.y,x2:t.x+.01,y2:t.y},e.classNames.point).attr({"ct:value":[t.data.value.x,t.data.value.y].filter(i.isNumeric).join(","),"ct:meta":i.serialize(t.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:t.data.value,index:t.data.valueIndex,meta:t.data.meta,series:n,seriesIndex:r,axisX:o,axisY:s,group:l,element:a,x:t.x,y:t.y})}.bind(this)),d.showLine){var p=l.elem("path",{d:m.stringify()},e.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:t.normalized.series[r],path:m.clone(),chartRect:u,index:r,series:n,seriesIndex:r,seriesMeta:n.meta,axisX:o,axisY:s,group:l,element:p})}if(d.showArea&&s.range){var f=Math.max(Math.min(d.areaBase,s.range.max),s.range.min),g=u.y1-s.projectValue(f);m.splitByCommand("M").filter(function(e){return e.pathElements.length>1}).map(function(e){var t=e.pathElements[0],i=e.pathElements[e.pathElements.length-1];return e.clone(!0).position(0).remove(1).move(t.x,g).line(t.x,t.y).position(e.pathElements.length+1).line(i.x,g)}).forEach(function(i){var a=l.elem("path",{d:i.stringify()},e.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:t.normalized.series[r],path:i.clone(),series:n,seriesIndex:r,axisX:o,axisY:s,chartRect:u,index:r,group:l,element:a})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:s.bounds,chartRect:u,axisX:o,axisY:s,svg:this.svg,options:e})}})}(window,document,e),function(e,t,i){var n={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};i.Bar=i.Base.extend({constructor:function(e,t,o,s){i.Bar.super.constructor.call(this,e,t,n,i.extend({},n,o),s)},createChart:function(e){var t,o;e.distributeSeries?(t=i.normalizeData(this.data,e.reverseData,e.horizontalBars?"x":"y")).normalized.series=t.normalized.series.map(function(e){return[e]}):t=i.normalizeData(this.data,e.reverseData,e.horizontalBars?"x":"y"),this.svg=i.createSvg(this.container,e.width,e.height,e.classNames.chart+(e.horizontalBars?" "+e.classNames.horizontalBars:""));var s=this.svg.elem("g").addClass(e.classNames.gridGroup),r=this.svg.elem("g"),a=this.svg.elem("g").addClass(e.classNames.labelGroup);if(e.stackBars&&0!==t.normalized.series.length){var l=i.serialMap(t.normalized.series,function(){return Array.prototype.slice.call(arguments).map(function(e){return e}).reduce(function(e,t){return{x:e.x+(t&&t.x)||0,y:e.y+(t&&t.y)||0}},{x:0,y:0})});o=i.getHighLow([l],e,e.horizontalBars?"x":"y")}else o=i.getHighLow(t.normalized.series,e,e.horizontalBars?"x":"y");o.high=+e.high||(0===e.high?0:o.high),o.low=+e.low||(0===e.low?0:o.low);var u,c,h,d,m,p=i.createChartRect(this.svg,e,n.padding);c=e.distributeSeries&&e.stackBars?t.normalized.labels.slice(0,1):t.normalized.labels,e.horizontalBars?(u=d=void 0===e.axisX.type?new i.AutoScaleAxis(i.Axis.units.x,t.normalized.series,p,i.extend({},e.axisX,{highLow:o,referenceValue:0})):e.axisX.type.call(i,i.Axis.units.x,t.normalized.series,p,i.extend({},e.axisX,{highLow:o,referenceValue:0})),h=m=void 0===e.axisY.type?new i.StepAxis(i.Axis.units.y,t.normalized.series,p,{ticks:c}):e.axisY.type.call(i,i.Axis.units.y,t.normalized.series,p,e.axisY)):(h=d=void 0===e.axisX.type?new i.StepAxis(i.Axis.units.x,t.normalized.series,p,{ticks:c}):e.axisX.type.call(i,i.Axis.units.x,t.normalized.series,p,e.axisX),u=m=void 0===e.axisY.type?new i.AutoScaleAxis(i.Axis.units.y,t.normalized.series,p,i.extend({},e.axisY,{highLow:o,referenceValue:0})):e.axisY.type.call(i,i.Axis.units.y,t.normalized.series,p,i.extend({},e.axisY,{highLow:o,referenceValue:0})));var f=e.horizontalBars?p.x1+u.projectValue(0):p.y1-u.projectValue(0),g=[];h.createGridAndLabels(s,a,this.supportsForeignObject,e,this.eventEmitter),u.createGridAndLabels(s,a,this.supportsForeignObject,e,this.eventEmitter),e.showGridBackground&&i.createGridBackground(s,p,e.classNames.gridBackground,this.eventEmitter),t.raw.series.forEach(function(n,o){var s,a,l=o-(t.raw.series.length-1)/2;s=e.distributeSeries&&!e.stackBars?h.axisLength/t.normalized.series.length/2:e.distributeSeries&&e.stackBars?h.axisLength/2:h.axisLength/t.normalized.series[o].length/2,(a=r.elem("g")).attr({"ct:series-name":n.name,"ct:meta":i.serialize(n.meta)}),a.addClass([e.classNames.series,n.className||e.classNames.series+"-"+i.alphaNumerate(o)].join(" ")),t.normalized.series[o].forEach(function(r,c){var v,y,x,w;if(w=e.distributeSeries&&!e.stackBars?o:e.distributeSeries&&e.stackBars?0:c,v=e.horizontalBars?{x:p.x1+u.projectValue(r&&r.x?r.x:0,c,t.normalized.series[o]),y:p.y1-h.projectValue(r&&r.y?r.y:0,w,t.normalized.series[o])}:{x:p.x1+h.projectValue(r&&r.x?r.x:0,w,t.normalized.series[o]),y:p.y1-u.projectValue(r&&r.y?r.y:0,c,t.normalized.series[o])},h instanceof i.StepAxis&&(h.options.stretch||(v[h.units.pos]+=s*(e.horizontalBars?-1:1)),v[h.units.pos]+=e.stackBars||e.distributeSeries?0:l*e.seriesBarDistance*(e.horizontalBars?-1:1)),x=g[c]||f,g[c]=x-(f-v[h.counterUnits.pos]),void 0!==r){var E={};E[h.units.pos+"1"]=v[h.units.pos],E[h.units.pos+"2"]=v[h.units.pos],!e.stackBars||"accumulate"!==e.stackMode&&e.stackMode?(E[h.counterUnits.pos+"1"]=f,E[h.counterUnits.pos+"2"]=v[h.counterUnits.pos]):(E[h.counterUnits.pos+"1"]=x,E[h.counterUnits.pos+"2"]=g[c]),E.x1=Math.min(Math.max(E.x1,p.x1),p.x2),E.x2=Math.min(Math.max(E.x2,p.x1),p.x2),E.y1=Math.min(Math.max(E.y1,p.y2),p.y1),E.y2=Math.min(Math.max(E.y2,p.y2),p.y1);var S=i.getMetaData(n,c);y=a.elem("line",E,e.classNames.bar).attr({"ct:value":[r.x,r.y].filter(i.isNumeric).join(","),"ct:meta":i.serialize(S)}),this.eventEmitter.emit("draw",i.extend({type:"bar",value:r,index:c,meta:S,series:n,seriesIndex:o,axisX:d,axisY:m,chartRect:p,group:a,element:y},E))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:u.bounds,chartRect:p,axisX:d,axisY:m,svg:this.svg,options:e})}})}(window,document,e),function(e,t,i){function n(e,t,i){var n=t.x>e.x;return n&&"explode"===i||!n&&"implode"===i?"start":n&&"implode"===i||!n&&"explode"===i?"end":"middle"}var o={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",sliceDonutSolid:"ct-slice-donut-solid",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutSolid:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:i.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};i.Pie=i.Base.extend({constructor:function(e,t,n,s){i.Pie.super.constructor.call(this,e,t,o,i.extend({},o,n),s)},createChart:function(e){var t,s,r,a,l,u=i.normalizeData(this.data),c=[],h=e.startAngle;this.svg=i.createSvg(this.container,e.width,e.height,e.donut?e.classNames.chartDonut:e.classNames.chartPie),s=i.createChartRect(this.svg,e,o.padding),r=Math.min(s.width()/2,s.height()/2),l=e.total||u.normalized.series.reduce(function(e,t){return e+t},0);var d=i.quantity(e.donutWidth);"%"===d.unit&&(d.value*=r/100),r-=e.donut&&!e.donutSolid?d.value/2:0,a="outside"===e.labelPosition||e.donut&&!e.donutSolid?r:"center"===e.labelPosition?0:e.donutSolid?r-d.value/2:r/2,a+=e.labelOffset;var m={x:s.x1+s.width()/2,y:s.y2+s.height()/2},p=1===u.raw.series.filter(function(e){return e.hasOwnProperty("value")?0!==e.value:0!==e}).length;u.raw.series.forEach(function(e,t){c[t]=this.svg.elem("g",null,null)}.bind(this)),e.showLabel&&(t=this.svg.elem("g",null,null)),u.raw.series.forEach(function(o,s){if(0!==u.normalized.series[s]||!e.ignoreEmptyValues){c[s].attr({"ct:series-name":o.name}),c[s].addClass([e.classNames.series,o.className||e.classNames.series+"-"+i.alphaNumerate(s)].join(" "));var f=l>0?h+u.normalized.series[s]/l*360:0,g=Math.max(0,h-(0===s||p?0:.2));f-g>=359.99&&(f=g+359.99);var v,y,x,w=i.polarToCartesian(m.x,m.y,r,g),E=i.polarToCartesian(m.x,m.y,r,f),S=new i.Svg.Path(!e.donut||e.donutSolid).move(E.x,E.y).arc(r,r,0,f-h>180,0,w.x,w.y);e.donut?e.donutSolid&&(x=r-d.value,v=i.polarToCartesian(m.x,m.y,x,h-(0===s||p?0:.2)),y=i.polarToCartesian(m.x,m.y,x,f),S.line(v.x,v.y),S.arc(x,x,0,f-h>180,1,y.x,y.y)):S.line(m.x,m.y);var b=e.classNames.slicePie;e.donut&&(b=e.classNames.sliceDonut,e.donutSolid&&(b=e.classNames.sliceDonutSolid));var A=c[s].elem("path",{d:S.stringify()},b);if(A.attr({"ct:value":u.normalized.series[s],"ct:meta":i.serialize(o.meta)}),e.donut&&!e.donutSolid&&(A._node.style.strokeWidth=d.value+"px"),this.eventEmitter.emit("draw",{type:"slice",value:u.normalized.series[s],totalDataSum:l,index:s,meta:o.meta,series:o,group:c[s],element:A,path:S.clone(),center:m,radius:r,startAngle:h,endAngle:f}),e.showLabel){var j;j=1===u.raw.series.length?{x:m.x,y:m.y}:i.polarToCartesian(m.x,m.y,a,h+(f-h)/2);var L;L=u.normalized.labels&&!i.isFalseyButZero(u.normalized.labels[s])?u.normalized.labels[s]:u.normalized.series[s];var O=e.labelInterpolationFnc(L,s);if(O||0===O){var C=t.elem("text",{dx:j.x,dy:j.y,"text-anchor":n(m,j,e.labelDirection)},e.classNames.label).text(""+O);this.eventEmitter.emit("draw",{type:"label",index:s,group:t,element:C,text:""+O,x:j.x,y:j.y})}}h=f}}.bind(this)),this.eventEmitter.emit("created",{chartRect:s,svg:this.svg,options:e})},determineAnchorPosition:n})}(window,document,e),e});