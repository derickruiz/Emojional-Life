firebase.initializeApp({apiKey:"AIzaSyD_Lna7XxvzEXr-JxqrJJoEXGA5PA48ivk",authDomain:"emojional-life.firebaseapp.com",databaseURL:"https://emojional-life.firebaseio.com",projectId:"emojional-life",storageBucket:"emojional-life.appspot.com",messagingSenderId:"888518070529"}),firebase.auth().signInAnonymously(),function(){function e(e){UTILS.POSITION=e}navigator.geolocation.getCurrentPosition(e,function(){})}();var UTILS={toArray:function(e){var n=[];for(var o in e)e[o][".key"]=o,n.push(e[o]);return n},convertUnixTimeToPMAM:function(e){return function(e){var n=e.getHours(),o=e.getMinutes(),t=n>=12?"pm":"am";return n%=12,n=n||12,o=o<10?"0"+o:o,n+":"+o+" "+t}(new Date(e))},previousScrollY:void 0,freezeScreen:function(){UTILS.previousScrollY=window.scrollY,setTimeout(function(){window.scrollTo(0,0)},0),document.body.classList.add("O(hidden)")},unfreezeScreen:function(){setTimeout(function(){window.scrollTo(0,UTILS.previousScrollY)},0),document.body.classList.remove("O(hidden)")},get:function(e,n){var o=new XMLHttpRequest;o.addEventListener("load",n),o.open("GET",e),o.send()},getAddress:function(e){var n="";return e.results.length&&e.results[0].address_components.forEach(function(e){e.types.includes("sublocality")&&(n+=e.long_name+", "),e.types.includes("locality")&&(n+=e.long_name)}),n}},DB={getEmojions:function(){return firebase.database().ref("emojions").once("value").then(function(e){return e.val()})},getEntries:function(e){return firebase.auth().signInAnonymously().then(function(n){return firebase.database().ref("entries/"+n.uid).on("value",function(n){var o=n.val();e(UTILS.toArray(o))})})},getEmptyTracking:function(){return firebase.database().ref("emptyTracking").once("value").then(function(e){return e.val()})},trackEntry:function(e){return firebase.auth().signInAnonymously().then(function(n){var o={emoji:e.emoji,time:firebase.database.ServerValue.TIMESTAMP,color:e.color},t=firebase.database().ref("entries/"+n.uid).push();if(t.set(o),void 0!==UTILS.POSITION){var r=UTILS.POSITION.coords.latitude,i=UTILS.POSITION.coords.longitude,a="https://maps.googleapis.com/maps/api/geocode/json?latlng="+r+","+i+"&sensor=true";UTILS.get(a,function(e){var n;try{n=JSON.parse(this.responseText)}catch(e){console.log("Caught!"),console.log(e)}o.address=UTILS.getAddress(n),t.set(o)})}})}};
//# sourceMappingURL=DB.min.js.map
